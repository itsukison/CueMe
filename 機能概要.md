# CueMe - AI面接アシスタント 機能概要

## プロジェクト概要

CueMeは、コーディング面接をサポートするAI搭載のElectronアプリケーションです。リアルタイムの音声認識、スクリーンショット解析、質問検出機能を組み合わせて、面接中の質問に対する回答を自動生成します。

## 主要機能

### 1. 音声処理・質問検出システム

#### AudioStreamProcessor
- **リアルタイム音声認識**: OpenAI Whisper APIを使用した連続音声処理
- **音声ストリーミング**: マイクからの音声を継続的にキャプチャ
- **音声転写**: 音声をテキストに変換し、質問を検出
- **設定可能な音声品質**: サンプルレート、チャンネル数の調整可能

#### QuestionDetector
- **多言語質問検出**: 日本語・英語の質問パターンを認識
- **質問パターンマッチング**: 疑問詞、疑問符を使った高精度検出
- **複数質問分割**: 一つの発話内の複数質問を自動分離
- **類似度計算**: Levenshtein距離を使った重複質問の除去
- **質問前処理**: ノイズ除去と正規化処理

### 2. スクリーンショット・画像解析

#### ScreenshotHelper
- **自動スクリーンショット**: 定期的な画面キャプチャ
- **キュー管理**: 最大5枚のスクリーンショット履歴保持
- **画像プレビュー**: Base64エンコードによる画像表示
- **ファイル管理**: 自動的な古いファイルの削除
- **複数ビュー対応**: Queue/Solutionsビューでの画像管理

### 3. AI・LLM統合

#### LLMHelper
- **OpenAI GPT-4統合**: 高度な自然言語処理
- **Google Gemini統合**: 画像解析とマルチモーダル処理
- **RAG（Retrieval-Augmented Generation）**: ドキュメント検索による回答精度向上
- **プロンプトエンジニアリング**: 面接特化型のプロンプト設計
- **JSON構造化出力**: 問題文、解法、計算量解析の構造化

### 4. ドキュメント検索・RAGシステム

#### DocumentService
- **Supabase統合**: クラウドベースのドキュメント管理
- **ベクトル検索**: OpenAI Embeddings APIによる意味的検索
- **日本語テキスト正規化**: 全角・半角文字の統一処理
- **チャンク管理**: 大きなドキュメントの分割・管理
- **類似度スコアリング**: 関連度に基づく検索結果ランキング

### 5. 認証・ユーザー管理

#### AuthService
- **Supabase Auth統合**: セキュアなユーザー認証
- **メール認証**: サインアップ・サインイン機能
- **セッション管理**: 自動的なセッション更新
- **認証状態監視**: リアルタイムの認証状態変更検出
- **パスワードリセット**: セキュアなパスワード復旧機能

### 6. 使用量追跡・制限管理

#### UsageTracker
- **API使用量監視**: OpenAI APIコール数の追跡
- **キャッシュシステム**: 高速な使用量チェック
- **バックグラウンド同期**: 非同期での使用量更新
- **制限チェック**: 使用量上限の事前確認
- **Web API連携**: 外部サービスとの使用量同期

### 7. ウィンドウ・UI管理

#### WindowHelper
- **フローティングウィンドウ**: 常に最前面表示
- **動的サイズ調整**: コンテンツに応じた自動リサイズ
- **位置管理**: 画面端での自動調整
- **透明度制御**: 半透明ウィンドウ効果
- **キーボードショートカット**: 素早いウィンドウ操作

### 8. 処理・ワークフロー管理

#### ProcessingHelper
- **統合処理パイプライン**: 音声・画像・テキストの統合処理
- **エラーハンドリング**: 堅牢なエラー処理機構
- **状態管理**: アプリケーション全体の状態追跡
- **非同期処理**: ノンブロッキングな処理実行

## ユーザーインターフェース

### メインビュー

#### Queue（キュー）ページ
- **スクリーンショット表示**: 最新5枚の画面キャプチャ
- **質問サイドパネル**: 検出された質問の一覧表示
- **チャット機能**: AIとのリアルタイム対話
- **音声ストリーム状態**: マイクの状態とストリーミング情報
- **レスポンスモード選択**: プレーン回答/QnA検索モード

#### Solutions（解答）ページ
- **問題文抽出**: スクリーンショットからの自動問題文認識
- **解法生成**: AIによる段階的解法提示
- **コード表示**: シンタックスハイライト付きコード
- **計算量解析**: 時間・空間計算量の詳細分析
- **思考プロセス**: 解法に至る思考過程の表示

#### Debug（デバッグ）ページ
- **コード比較**: 差分表示機能
- **デバッグ情報**: 詳細なエラー解析
- **追加スクリーンショット**: デバッグ用画像管理

### UI コンポーネント

#### 認証ダイアログ
- **ログイン/サインアップ**: 統合認証フォーム
- **パスワード表示切替**: セキュリティ配慮のUI
- **エラー表示**: 分かりやすいエラーメッセージ

#### トースト通知
- **成功/エラー通知**: 操作結果の即座フィードバック
- **使用量警告**: API制限接近時の警告
- **自動消去**: 時間経過による自動非表示

## 技術スタック

### フロントエンド
- **React 18**: モダンなReactフレームワーク
- **TypeScript**: 型安全な開発環境
- **Tailwind CSS**: ユーティリティファーストCSS
- **Radix UI**: アクセシブルなUIコンポーネント
- **React Query**: 効率的なデータフェッチング
- **Vite**: 高速ビルドツール

### バックエンド（Electron）
- **Electron**: クロスプラットフォームデスクトップアプリ
- **Node.js**: サーバーサイドJavaScript実行環境
- **TypeScript**: 型安全なバックエンド開発

### AI・機械学習
- **OpenAI GPT-4**: 自然言語処理・コード生成
- **OpenAI Whisper**: 音声認識・転写
- **OpenAI Embeddings**: ベクトル検索・意味理解
- **Google Gemini**: マルチモーダルAI処理

### データベース・認証
- **Supabase**: PostgreSQLベースのBaaS
- **Supabase Auth**: 認証・ユーザー管理
- **Vector Search**: ベクトル類似度検索

### 開発・ビルドツール
- **Electron Builder**: アプリケーションパッケージング
- **ESLint**: コード品質管理
- **Prettier**: コードフォーマッティング
- **Concurrently**: 並行プロセス実行

## セキュリティ・プライバシー

### データ保護
- **ローカルファイル暗号化**: スクリーンショットの安全な保存
- **API キー管理**: 環境変数による秘密情報管理
- **セッション管理**: 安全な認証状態維持

### プライバシー配慮
- **音声データ**: 一時的な処理のみ、永続保存なし
- **画像データ**: ローカル保存、自動削除機能
- **ユーザーデータ**: 最小限の情報収集

## パフォーマンス最適化

### キャッシュ戦略
- **使用量キャッシュ**: 5分間のTTL設定
- **画像プレビューキャッシュ**: メモリ効率的な画像管理
- **認証状態キャッシュ**: 高速な認証チェック

### 非同期処理
- **バックグラウンド同期**: UIブロックなしの処理
- **ストリーミング処理**: リアルタイム音声処理
- **並行処理**: 複数タスクの効率的実行

## 開発・デプロイメント

### 開発環境
- **ホットリロード**: 開発時の自動更新
- **TypeScript**: 型チェックによる品質向上
- **ESLint/Prettier**: 一貫したコードスタイル

### ビルド・配布
- **クロスプラットフォーム**: Windows/macOS/Linux対応
- **自動更新**: Electron Updaterによる更新機能
- **コード署名**: セキュアなアプリケーション配布

## 今後の拡張予定

### 新機能
- **常時リスニング**: バックグラウンドでの継続的音声監視
- **多言語対応**: より多くの言語での質問検出
- **カスタムプロンプト**: ユーザー定義の回答スタイル
- **履歴管理**: 過去の質問・回答の検索機能

### パフォーマンス改善
- **ローカルAI**: オフライン動作のためのローカルモデル
- **ストリーミング最適化**: より低遅延の音声処理
- **メモリ使用量削減**: 長時間使用時の安定性向上

---

*このドキュメントは、CueMeアプリケーションの包括的な機能概要を提供しています。各機能の詳細な実装については、対応するソースコードファイルを参照してください。*